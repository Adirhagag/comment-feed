(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(18),s=n.n(c),u=(n(23),n(6)),i=n(2),o=n.n(i),l=n(4),m=n(5),j=n(8),f=n.n(j),p="https://big-panda-feed.herokuapp.com/comments",b={getComments:function(e){return d.apply(this,arguments)},addComment:function(e){return O.apply(this,arguments)},getGravatarUrl:function(e){return x.apply(this,arguments)}};function d(){return(d=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(p,{params:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(p,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(p,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=n(7),v=n(0),g=function(e){var t=e.loadComments,n={email:"",message:""},r=Object(a.useState)(n),c=Object(m.a)(r,2),s=c[0],i=c[1],j=Object(a.useRef)(null),f=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s.message){e.next=4;break}return j.current.focus(),e.abrupt("return");case 4:return e.next=6,b.addComment(s);case 6:i(n),t();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target;i(Object(u.a)(Object(u.a)({},s),{},Object(h.a)({},t.name,t.value)))};return Object(v.jsxs)("form",{className:"add-comment flex column align-center",onSubmit:f,children:[Object(v.jsx)("input",{value:s.email,onChange:p,name:"email",type:"email",placeholder:"Email",autoFocus:!0}),Object(v.jsx)("textarea",{value:s.message,onChange:p,ref:j,name:"message",placeholder:"Message",cols:"30",rows:"10"}),Object(v.jsx)("button",{children:"Submit"})]})},w=function(e){var t=e.comment,n=Object(a.useState)(""),r=Object(m.a)(n,2),c=r[0],s=r[1],u=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getGravatarUrl(t.email);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u()}),[]),Object(v.jsxs)("div",{className:"comment-preview flex",children:[c&&Object(v.jsx)("img",{className:"gravatar-img",src:c,alt:""}),Object(v.jsxs)("div",{className:"content-wrapper flex column justify-center",children:[Object(v.jsx)("h1",{className:"email",children:t.email}),Object(v.jsx)("p",{className:"msg",children:t.message})]})]})},y=n.p+"static/media/loupe.38d98259.svg",C=function(e){var t=e.setFilter,n=Object(a.useState)(""),r=Object(m.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){t(c)}),[c]),Object(v.jsxs)("div",{className:"filter",children:[Object(v.jsx)("img",{src:y,alt:""}),Object(v.jsx)("input",{value:c,onChange:function(e){var t=e.target;s(t.value)},type:"text",placeholder:"Filter"})]})},N=function(e){var t=e.comments,n=e.setFilter;return Object(v.jsxs)("div",{className:"comments flex column",children:[Object(v.jsx)(C,{setFilter:n}),!t.length&&Object(v.jsx)("div",{children:"Loading..."}),t&&t.length>0&&t.map((function(e){return Object(v.jsx)(w,{comment:e},e._id)}))]})},k=function(){var e=Object(a.useState)({email:""}),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(m.a)(c,2),i=s[0],j=s[1],f=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getComments(n);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){f()}),[n]),Object(v.jsxs)("div",{className:"feed flex column align-center",children:[Object(v.jsx)(g,{loadComments:f}),Object(v.jsx)(N,{comments:i,setFilter:function(e){r(Object(u.a)(Object(u.a)({},n),{},{email:e}))}})]})},F=function(){return Object(v.jsx)("div",{className:"feed-container flex align-center justify-center",children:Object(v.jsx)(k,{})})};var S=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(F,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(S,{})}),document.getElementById("root")),E()}},[[44,1,2]]]);
//# sourceMappingURL=main.5f4b1d26.chunk.js.map